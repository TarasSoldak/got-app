(this["webpackJsonpgot-app"]=this["webpackJsonpgot-app"]||[]).push([[0],{20:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var r,a=n(1),c=n.n(a),s=n(22),i=n.n(s),o=(n(29),n(12)),u=n(4),l=n(5),d=n(7),h=n(6),j=(n(30),n(2)),b=n(8),p=n.n(b),f=n(23),m=n(13),O=function e(){var t=this;Object(u.a)(this,e),this.getResource=function(){var e=Object(m.a)(p.a.mark((function e(n){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(t._baseApi).concat(n));case 2:if((a=e.sent).ok){e.next=5;break}throw new Error("Could not fetch ".concat(n)(r||(r=Object(f.a)([", received ",""])),a.status));case 5:return e.next=7,a.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.isSet=function(e){return e||"No Data :("},this.extractId=function(e){return e.url.match(/\/([0-9]*)$/)[1]},this.getAllCharacters=Object(m.a)(p.a.mark((function e(){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/characters?page=5&pageSize=10");case 2:return n=e.sent,e.abrupt("return",n.map(t.transformCharacter));case 4:case"end":return e.stop()}}),e)}))),this.getCharacter=function(){var e=Object(m.a)(p.a.mark((function e(n){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/characters/".concat(n));case 2:return r=e.sent,e.abrupt("return",t.transformCharacter(r));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.transformCharacter=function(e){return{id:t.extractId(e),name:t.isSet(e.name),gender:t.isSet(e.gender),born:t.isSet(e.born),died:t.isSet(e.died),culture:t.isSet(e.culture)}},this.getAllHouses=Object(m.a)(p.a.mark((function e(){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/houses/");case 2:return n=e.sent,e.abrupt("return",n.map(t.transformHouses));case 4:case"end":return e.stop()}}),e)}))),this.getHouse=function(){var e=Object(m.a)(p.a.mark((function e(n){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/houses/".concat(n,"/"));case 2:return r=e.sent,e.abrupt("return",t.transformHouses(r));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.transformHouses=function(e){return{id:t.extractId(e),name:t.isSet(e.name),region:t.isSet(e.region),coatOfArms:t.isSet(e.coatOfArms),words:t.isSet(e.words)}},this.getAllBooks=Object(m.a)(p.a.mark((function e(){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/books/");case 2:return n=e.sent,e.abrupt("return",n.map(t.transformBooks));case 4:case"end":return e.stop()}}),e)}))),this.getBook=function(){var e=Object(m.a)(p.a.mark((function e(n){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/books/".concat(n,"/"));case 2:return r=e.sent,e.abrupt("return",t.transformBooks(r));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.transformBooks=function(e){return{id:t.extractId(e),name:t.isSet(e.name),publisher:t.isSet(e.publisher),country:t.isSet(e.country),mediaType:t.isSet(e.mediaType)}},this._baseApi="https://anapioficeandfire.com/api"},x=(n(20),n(0)),g=function(e){var t=e.item,n=e.field,r=e.label;return Object(x.jsxs)("li",{children:[Object(x.jsx)("span",{children:Object(x.jsx)("b",{children:r})}),Object(x.jsx)("span",{children:t[n]})]})},v=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).gotApi=new O,e.state={item:null},e.updateItem=function(){var t=e.props.itemId;t&&e.props.getItemData(t).then((function(t){e.setState({item:t})}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.updateItem()}},{key:"componentDidUpdate",value:function(e){this.props.itemId!==e.itemId&&this.updateItem()}},{key:"render",value:function(){if(!this.state.item)return Object(x.jsx)("span",{className:"span",children:"Please select item in the list"});var e=this.state.item,t=e.name;return Object(x.jsxs)("div",{className:"charBlock",children:[Object(x.jsx)("h4",{children:Object(x.jsx)("span",{children:t})}),Object(x.jsx)("ul",{children:c.a.Children.map(this.props.children,(function(t){return c.a.cloneElement(t,{item:e})}))})]})}}]),n}(a.Component),I=n.p+"static/media/830.38a5c8dd.png",k=(n(33),function(){return Object(x.jsx)("div",{className:"loader",children:Object(x.jsx)("img",{src:I,alt:"img"})})}),y=(n(34),function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={itemList:null},e.renderItems=function(t){return t.map((function(t){var n=e.props.renderItem(t);return Object(x.jsx)("li",{onClick:function(){return e.props.onSelectedItemId(t.id)},children:n},t.id)}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;(0,this.props.getData)().then((function(t){e.setState({itemList:t})}))}},{key:"render",value:function(){var e=this.state.itemList;return Object(x.jsx)("ul",{className:"list",children:e?this.renderItems(e):Object(x.jsx)(k,{})})}}]),n}(c.a.Component)),C=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).gotApi=new O,e.state={selectedId:null},e.onSelectedId=function(t){e.setState({selectedId:t})},e}return Object(l.a)(n,[{key:"render",value:function(){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(y,{onSelectedItemId:this.onSelectedId,getData:this.gotApi.getAllCharacters,renderItem:function(e){return"".concat(e.name," (").concat(e.gender,")")}}),Object(x.jsxs)(v,{itemId:this.state.selectedId,getItemData:this.gotApi.getCharacter,children:[Object(x.jsx)(g,{field:"gender",label:"Gender"}),Object(x.jsx)(g,{field:"born",label:"Born"}),Object(x.jsx)(g,{field:"died",label:"Died"}),Object(x.jsx)(g,{field:"culture",label:"Culture"})]})]})}}]),n}(c.a.Component),w=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).gotApi=new O,e}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(y,{onSelectedItemId:function(t){return e.props.history.push(t)},getData:this.gotApi.getAllBooks,renderItem:function(e){return e.name}})})}}]),n}(a.Component),A=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).gotApi=new O,e.state={selectedId:null},e.onSelectedId=function(t){e.setState({selectedId:t})},e}return Object(l.a)(n,[{key:"render",value:function(){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(y,{onSelectedItemId:this.onSelectedId,getData:this.gotApi.getAllHouses,renderItem:function(e){return e.name}}),Object(x.jsxs)(v,{itemId:this.state.selectedId,getItemData:this.gotApi.getHouse,children:[Object(x.jsx)(g,{field:"region",label:"Region"}),Object(x.jsx)(g,{field:"coatOfArms",label:"CoatOfArms"}),Object(x.jsx)(g,{field:"words",label:"Words"})]})]})}}]),n}(c.a.Component),S=(n(35),function(){return Object(x.jsxs)("div",{className:"header",children:[Object(x.jsx)(o.b,{exact:!0,to:"/",activeClassName:"active",children:Object(x.jsx)("h2",{children:"Games of Thrones"})}),Object(x.jsxs)("ul",{children:[Object(x.jsx)("li",{children:Object(x.jsx)(o.b,{to:"/characters",activeClassName:"active",children:"Characters"})}),Object(x.jsx)("li",{children:Object(x.jsx)(o.b,{to:"/books/",activeClassName:"active",children:"Books"})}),Object(x.jsx)("li",{children:Object(x.jsx)(o.b,{to:"/houses",activeClassName:"active",children:"Houses"})})]})]})}),D=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).gotApi=new O,e.state={char:{},loader:!0,error:!1},e.onError=function(){e.setState({loader:!1,error:!0})},e.onCharloaded=function(t){e.setState({char:t,loader:!1})},e.updateChar=function(){var t=Math.floor(140*Math.random()+25);e.gotApi.getCharacter(t).then(e.onCharloaded).catch(e.onError)},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.updateChar(),this.timerId=setInterval(this.updateChar,2500)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerId)}},{key:"render",value:function(){var e=this.state,t=e.loader,n=e.char,r=e.error,a=r&&"Some goes wrong",c=t&&Object(x.jsx)(k,{}),s=!(t||r)&&Object(x.jsx)(N,{char:n});return Object(x.jsxs)("div",{className:"charBlock",children:[a,c,s]})}}]),n}(a.Component),N=function(e){var t=e.char,n=t.name,r=t.gender,a=t.born,c=t.died,s=t.culture;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("h4",{children:["Random Character : ",Object(x.jsx)("span",{children:n})]}),Object(x.jsxs)("ul",{children:[Object(x.jsxs)("li",{children:[Object(x.jsx)("span",{children:Object(x.jsx)("b",{children:"Gender:"})}),Object(x.jsx)("span",{children:r})]}),Object(x.jsxs)("li",{children:[Object(x.jsx)("span",{children:Object(x.jsx)("b",{children:"Born:"})}),Object(x.jsx)("span",{children:a})]}),Object(x.jsxs)("li",{children:[Object(x.jsx)("span",{children:Object(x.jsx)("b",{children:"Died:"})}),Object(x.jsx)("span",{children:c})]}),Object(x.jsxs)("li",{children:[Object(x.jsx)("span",{children:Object(x.jsx)("b",{children:"Culture:"})}),Object(x.jsx)("span",{children:s})]})]})]})},B=D,R=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).gotApi=new O,e}return Object(l.a)(n,[{key:"render",value:function(){return Object(x.jsxs)(v,{itemId:this.props.bookId,getItemData:this.gotApi.getBook,children:[Object(x.jsx)(g,{field:"publisher",label:"Publisher"}),Object(x.jsx)(g,{field:"country",label:"Country"}),Object(x.jsx)(g,{field:"mediaType",label:"MediaType"})]})}}]),n}(a.Component),H=Object(j.e)(R),T=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={toggleRandomChar:!0},e.onToggle=function(){e.setState((function(e){return{toggleRandomChar:!e.toggleRandomChar}}))},e}return Object(l.a)(n,[{key:"render",value:function(){return Object(x.jsxs)("div",{className:"app",children:[Object(x.jsx)(S,{}),Object(x.jsxs)("div",{className:"app-content",children:[this.state.toggleRandomChar?Object(x.jsx)(B,{}):null,Object(x.jsx)("button",{onClick:this.onToggle,children:" Toggle random char"}),Object(x.jsxs)("div",{className:"app-content-item",children:[Object(x.jsx)(j.a,{path:"/characters",component:C}),Object(x.jsx)(j.a,{path:"/books",exact:!0,component:w}),Object(x.jsx)(j.a,{path:"/books/:id",render:function(e){var t=e.match.params.id;return Object(x.jsx)(H,{bookId:t})}}),Object(x.jsx)(j.a,{path:"/houses",component:A})]})]})]})}}]),n}(c.a.Component);i.a.render(Object(x.jsx)(o.a,{children:Object(x.jsx)(T,{})}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.371923f4.chunk.js.map